<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>deepsparse.transformers package &mdash; DeepSparse 0.9.1 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/nm-theme-adjustment.css" type="text/css" /><link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="deepsparse.utils package" href="deepsparse.utils.html" />
    <link rel="prev" title="deepsparse package" href="deepsparse.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> DeepSparse<img src="../_static/icon-deepsparse.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.9
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../source/hardware.html">Hardware Support</a></li>
</ul>
<p class="caption"><span class="caption-text">Performance</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../debugging-optimizing/index.html">Debugging and Optimizing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/scheduler.html">Serial or Concurrent Inferences</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../source/c%2B%2Bapi-overview.html">C++ API Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="deepsparse.html">deepsparse package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="deepsparse.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">deepsparse.transformers package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-deepsparse.transformers.pipelines">deepsparse.transformers.pipelines module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-deepsparse.transformers">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="deepsparse.utils.html">deepsparse.utils package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="deepsparse.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepsparse.html#module-deepsparse.benchmark">deepsparse.benchmark module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepsparse.html#module-deepsparse.cpu">deepsparse.cpu module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepsparse.html#module-deepsparse.engine">deepsparse.engine module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepsparse.html#deepsparse-generated-version-module">deepsparse.generated-version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepsparse.html#id1">deepsparse.generated_version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepsparse.html#module-deepsparse.lib">deepsparse.lib module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepsparse.html#module-deepsparse.version">deepsparse.version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepsparse.html#module-deepsparse">Module contents</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Connect Online</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/neuralmagic/deepsparse/issues">Bugs, Feature Requests</a></li>
<li class="toctree-l1"><a class="reference external" href="https://discuss.neuralmagic.com/">Support, General Q&amp;A Forums</a></li>
<li class="toctree-l1"><a class="reference external" href="https://join.slack.com/t/discuss-neuralmagic/shared_invite/zt-q1a1cnvo-YBoICSIw3L1dmQpjBeDurQ">Deep Sparse Community Slack</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/neuralmagic">Neural Magic GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.neuralmagic.com">Neural Magic Docs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DeepSparse</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="deepsparse.html">deepsparse package</a> &raquo;</li>
      <li>deepsparse.transformers package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/deepsparse.transformers.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="deepsparse-transformers-package">
<h1>deepsparse.transformers package<a class="headerlink" href="#deepsparse-transformers-package" title="Permalink to this headline"></a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</div>
<div class="section" id="module-deepsparse.transformers.pipelines">
<span id="deepsparse-transformers-pipelines-module"></span><h2>deepsparse.transformers.pipelines module<a class="headerlink" href="#module-deepsparse.transformers.pipelines" title="Permalink to this headline"></a></h2>
<p>Adaptation of transformers.pipelines and onnx_transformers.pipelines</p>
<p>adapted from:
<a class="reference external" href="https://github.com/huggingface/transformers/blob/master/src/transformers/pipelines/base.py">https://github.com/huggingface/transformers/blob/master/src/transformers/pipelines/base.py</a>
<a class="reference external" href="https://github.com/patil-suraj/onnx_transformers/blob/master/onnx_transformers/pipelines.py">https://github.com/patil-suraj/onnx_transformers/blob/master/onnx_transformers/pipelines.py</a></p>
<dl class="py class">
<dt id="deepsparse.transformers.pipelines.ArgumentHandler">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">deepsparse.transformers.pipelines.</span></code><code class="sig-name descname"><span class="pre">ArgumentHandler</span></code><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#ArgumentHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.ArgumentHandler" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Base interface for handling arguments for each Pipeline.</p>
</dd></dl>

<dl class="py class">
<dt id="deepsparse.transformers.pipelines.Pipeline">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">deepsparse.transformers.pipelines.</span></code><code class="sig-name descname"><span class="pre">Pipeline</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="deepsparse.html#deepsparse.engine.Engine" title="deepsparse.engine.Engine"><span class="pre">deepsparse.engine.Engine</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">onnxruntime.capi.onnxruntime_inference_collection.InferenceSession</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">transformers.tokenization_utils.PreTrainedTokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">transformers.configuration_utils.PretrainedConfig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_type</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args_parser</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#deepsparse.transformers.pipelines.ArgumentHandler" title="deepsparse.transformers.pipelines.ArgumentHandler"><span class="pre">deepsparse.transformers.pipelines.ArgumentHandler</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binary_output</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#Pipeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.Pipeline" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">deepsparse.transformers.pipelines._ScikitCompat</span></code></p>
<p>The Pipeline class is the class from which all pipelines inherit.
Refer to this class for methods shared across different pipelines.
This base Pipeline class provides support for multiple inference engine backends.</p>
<p>Base class implementing pipelined operations.
Pipeline workflow is defined as a sequence of the following operations:</p>
<blockquote>
<div><p>Input -&gt; Tokenization -&gt; Model Inference -&gt;
Post-Processing (task dependent) -&gt; Output</p>
</div></blockquote>
<p>Pipeline supports running with the DeepSparse engine or onnxruntime.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – loaded inference engine to run the model with, can be a
deepsparse Engine or onnxruntime InferenceSession</p></li>
<li><p><strong>tokenizer</strong> – tokenizer to be used for preprocessing</p></li>
<li><p><strong>config</strong> – transformers model config for this model</p></li>
<li><p><strong>engine_type</strong> – name of inference engine that is used. Options are
deepsparse and onnxruntime</p></li>
<li><p><strong>max_length</strong> – maximum sequence length to set for model inputs by default.
default value is 128</p></li>
<li><p><strong>input_names</strong> – list of input names to the neural network</p></li>
<li><p><strong>args_parser</strong> – Reference to the object in charge of parsing supplied
pipeline parameters. A default is provided if None</p></li>
<li><p><strong>binary_output</strong> – if True, stores outputs as pickled binaries to avoid
storing large amount of textual data. Default is False</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="deepsparse.transformers.pipelines.Pipeline.default_input_names">
<code class="sig-name descname"><span class="pre">default_input_names</span></code><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#deepsparse.transformers.pipelines.Pipeline.default_input_names" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepsparse.transformers.pipelines.Pipeline.predict">
<code class="sig-name descname"><span class="pre">predict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#Pipeline.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.Pipeline.predict" title="Permalink to this definition"></a></dt>
<dd><p>Scikit / Keras interface to transformers’ pipelines.
This method will forward to __call__().</p>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.transformers.pipelines.Pipeline.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#Pipeline.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.Pipeline.transform" title="Permalink to this definition"></a></dt>
<dd><p>Scikit / Keras interface to transformers’ pipelines.
This method will forward to __call__().</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="deepsparse.transformers.pipelines.QuestionAnsweringPipeline">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">deepsparse.transformers.pipelines.</span></code><code class="sig-name descname"><span class="pre">QuestionAnsweringPipeline</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="deepsparse.html#deepsparse.engine.Engine" title="deepsparse.engine.Engine"><span class="pre">deepsparse.engine.Engine</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">onnxruntime.capi.onnxruntime_inference_collection.InferenceSession</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">transformers.tokenization_utils.PreTrainedTokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_type</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#QuestionAnsweringPipeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.QuestionAnsweringPipeline" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepsparse.transformers.pipelines.Pipeline" title="deepsparse.transformers.pipelines.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepsparse.transformers.pipelines.Pipeline</span></code></a></p>
<p>Question Answering pipeline using any <cite>ModelForQuestionAnswering</cite></p>
<p>This question answering pipeline can currently be loaded from <cite>pipeline()</cite>
using the following task identifier: <cite>“question-answering”</cite>.</p>
<p>The models that this pipeline can use are models that have been fine-tuned on
a question answering task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – loaded inference engine to run the model with, can be a
deepsparse Engine or onnxruntime InferenceSession</p></li>
<li><p><strong>tokenizer</strong> – tokenizer to be used for preprocessing</p></li>
<li><p><strong>config</strong> – transformers model config for this model</p></li>
<li><p><strong>engine_type</strong> – name of inference engine that is used. Options are
deepsparse and onnxruntime</p></li>
<li><p><strong>input_names</strong> – list of input names to the neural network</p></li>
<li><p><strong>args_parser</strong> – Reference to the object in charge of parsing supplied
pipeline parameters. A default is provided if None</p></li>
<li><p><strong>binary_output</strong> – if True, stores outputs as pickled binaries to avoid
storing large amount of textual data. Default is False</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="deepsparse.transformers.pipelines.QuestionAnsweringPipeline.create_sample">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">create_sample</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">question</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">transformers.data.processors.squad.SquadExample</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">transformers.data.processors.squad.SquadExample</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#QuestionAnsweringPipeline.create_sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.QuestionAnsweringPipeline.create_sample" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>question</strong> – single question or list of question strings</p></li>
<li><p><strong>context</strong> – single context or list of context strings</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>processed SquadExample object(s) for each question/context pair given</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.transformers.pipelines.QuestionAnsweringPipeline.decode">
<code class="sig-name descname"><span class="pre">decode</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_answer_len</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#QuestionAnsweringPipeline.decode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.QuestionAnsweringPipeline.decode" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> – Individual start probabilities for each token</p></li>
<li><p><strong>end</strong> – Individual end probabilities for each token</p></li>
<li><p><strong>topk</strong> – Indicates how many possible answer span(s) to extract from the
model output</p></li>
<li><p><strong>max_answer_len</strong> – Maximum size of the answer to extract from the model
output</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>probabilities for each span to be the actual answer. Will filter out
unwanted and impossible cases</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="deepsparse.transformers.pipelines.QuestionAnsweringPipeline.default_input_names">
<code class="sig-name descname"><span class="pre">default_input_names</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'question,context'</span></em><a class="headerlink" href="#deepsparse.transformers.pipelines.QuestionAnsweringPipeline.default_input_names" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepsparse.transformers.pipelines.QuestionAnsweringPipeline.preprocess">
<code class="sig-name descname"><span class="pre">preprocess</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#QuestionAnsweringPipeline.preprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.QuestionAnsweringPipeline.preprocess" title="Permalink to this definition"></a></dt>
<dd><p>preprocess the given QA model inputs using squad_convert_examples_to_features</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – SquadExample or list of them containing the question and context</p></li>
<li><p><strong>X</strong> – SquadExample or list of them containing the question and context</p></li>
<li><p><strong>data</strong> – SquadExample or list of them containing the question and context</p></li>
<li><p><strong>question</strong> – single question or list of question strings</p></li>
<li><p><strong>context</strong> – single context or list of context strings</p></li>
<li><p><strong>doc_stride</strong> – if the context is too long to fit with the question for the
model, it will be split in several chunks with some overlap. This argument
controls the size of that overlap</p></li>
<li><p><strong>max_seq_len</strong> – maximum length of the total sentence (context + question)
after tokenization. The context will be split in several chunks
(using the doc_stride) if needed</p></li>
<li><p><strong>max_question_len</strong> – maximum length of the question after tokenization.
It will be truncated if needed</p></li>
<li><p><strong>num_spans</strong> – maximum number of spans to use as input from a long
context. Default is to stride the entire context string</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple of SquadExample inputs and preprocessed features list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.transformers.pipelines.QuestionAnsweringPipeline.span_to_answer">
<code class="sig-name descname"><span class="pre">span_to_answer</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#QuestionAnsweringPipeline.span_to_answer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.QuestionAnsweringPipeline.span_to_answer" title="Permalink to this definition"></a></dt>
<dd><p>When decoding from token probabilities, this method maps token indexes to
actual word in the initial context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – The actual context to extract the answer from</p></li>
<li><p><strong>start</strong> – The answer starting token index</p></li>
<li><p><strong>end</strong> – The answer end token index</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary containing the start, end, and answer</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="deepsparse.transformers.pipelines.TextClassificationPipeline">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">deepsparse.transformers.pipelines.</span></code><code class="sig-name descname"><span class="pre">TextClassificationPipeline</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">return_all_scores</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#TextClassificationPipeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.TextClassificationPipeline" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepsparse.transformers.pipelines.Pipeline" title="deepsparse.transformers.pipelines.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepsparse.transformers.pipelines.Pipeline</span></code></a></p>
<p>Text classification pipeline using any <cite>ModelForSequenceClassification</cite>.</p>
<p>This text classification pipeline can currently be loaded from <cite>pipeline()</cite>
using the following task identifier: <cite>“text-classification”</cite>.</p>
<p>The models that this pipeline can use are models that have been fine-tuned on
a text classification task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>return_all_scores</strong> – set True to return all model scores. Default False</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="deepsparse.transformers.pipelines.TokenClassificationPipeline">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">deepsparse.transformers.pipelines.</span></code><code class="sig-name descname"><span class="pre">TokenClassificationPipeline</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">args_parser:</span> <span class="pre">Optional[deepsparse.transformers.pipelines.ArgumentHandler]</span> <span class="pre">=</span> <span class="pre">None</span></em>, <em class="sig-param"><span class="pre">aggregation_strategy:</span> <span class="pre">deepsparse.transformers.pipelines.AggregationStrategy</span> <span class="pre">=</span> <span class="pre">&lt;AggregationStrategy.NONE:</span> <span class="pre">'none'&gt;</span></em>, <em class="sig-param"><span class="pre">ignore_labels:</span> <span class="pre">List[str]</span> <span class="pre">=</span> <span class="pre">False</span></em>, <em class="sig-param"><span class="pre">**kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#TokenClassificationPipeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.TokenClassificationPipeline" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepsparse.transformers.pipelines.Pipeline" title="deepsparse.transformers.pipelines.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepsparse.transformers.pipelines.Pipeline</span></code></a></p>
<p>Named Entity Recognition pipeline using any <cite>ModelForTokenClassification</cite>.</p>
<p>This token classification pipeline can currently be loaded from <cite>pipeline()</cite>
using the following task identifier: <cite>“token-classification”</cite>.</p>
<p>The models that this pipeline can use are models that have been fine-tuned on
a token classification task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args_parser</strong> – argument parser to use default is
TokenClassificationArgumentHandler</p></li>
<li><p><strong>aggregation_strategy</strong> – AggregationStrategy Enum object to determine
the pipeline aggregation strategy. Default is AggregationStrategy.NONE</p></li>
<li><p><strong>ignore_labels</strong> – list of labels to ignore. Default is <cite>[“O”]</cite></p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="deepsparse.transformers.pipelines.TokenClassificationPipeline.aggregate">
<code class="sig-name descname"><span class="pre">aggregate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pre_entities</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregation_strategy</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">deepsparse.transformers.pipelines.AggregationStrategy</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#TokenClassificationPipeline.aggregate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.TokenClassificationPipeline.aggregate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepsparse.transformers.pipelines.TokenClassificationPipeline.aggregate_word">
<code class="sig-name descname"><span class="pre">aggregate_word</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entities</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregation_strategy</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">deepsparse.transformers.pipelines.AggregationStrategy</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#TokenClassificationPipeline.aggregate_word"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.TokenClassificationPipeline.aggregate_word" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepsparse.transformers.pipelines.TokenClassificationPipeline.aggregate_words">
<code class="sig-name descname"><span class="pre">aggregate_words</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entities</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregation_strategy</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">deepsparse.transformers.pipelines.AggregationStrategy</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#TokenClassificationPipeline.aggregate_words"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.TokenClassificationPipeline.aggregate_words" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="deepsparse.transformers.pipelines.TokenClassificationPipeline.default_input_names">
<code class="sig-name descname"><span class="pre">default_input_names</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'sequences'</span></em><a class="headerlink" href="#deepsparse.transformers.pipelines.TokenClassificationPipeline.default_input_names" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepsparse.transformers.pipelines.TokenClassificationPipeline.gather_pre_entities">
<code class="sig-name descname"><span class="pre">gather_pre_entities</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentence</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_ids</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scores</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_mapping</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">special_tokens_mask</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#TokenClassificationPipeline.gather_pre_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.TokenClassificationPipeline.gather_pre_entities" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepsparse.transformers.pipelines.TokenClassificationPipeline.get_tag">
<code class="sig-name descname"><span class="pre">get_tag</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#TokenClassificationPipeline.get_tag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.TokenClassificationPipeline.get_tag" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepsparse.transformers.pipelines.TokenClassificationPipeline.group_entities">
<code class="sig-name descname"><span class="pre">group_entities</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entities</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#TokenClassificationPipeline.group_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.TokenClassificationPipeline.group_entities" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepsparse.transformers.pipelines.TokenClassificationPipeline.group_sub_entities">
<code class="sig-name descname"><span class="pre">group_sub_entities</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entities</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#TokenClassificationPipeline.group_sub_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.TokenClassificationPipeline.group_sub_entities" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="deepsparse.transformers.pipelines.overwrite_transformer_onnx_model_inputs">
<code class="sig-prename descclassname"><span class="pre">deepsparse.transformers.pipelines.</span></code><code class="sig-name descname"><span class="pre">overwrite_transformer_onnx_model_inputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">tempfile.NamedTemporaryFile</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/deepsparse/transformers/helpers.html#overwrite_transformer_onnx_model_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.overwrite_transformer_onnx_model_inputs" title="Permalink to this definition"></a></dt>
<dd><p>Overrides an ONNX model’s inputs to have the given batch size and sequence lengths.
Assumes that these are the first and second shape indices of the given model inputs
respectively</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – path to the ONNX model to override</p></li>
<li><p><strong>batch_size</strong> – batch size to set</p></li>
<li><p><strong>max_length</strong> – max sequence length to set</p></li>
<li><p><strong>output_path</strong> – if provided, the model will be saved to the given path,
otherwise, the model will be saved to a named temporary file that will
be deleted after the program exits</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>if no output path, a tuple of the saved path to the model, list of
model input names, and reference to the tempfile object will be returned
otherwise, only the model input names will be returned</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepsparse.transformers.pipelines.pipeline">
<code class="sig-prename descclassname"><span class="pre">deepsparse.transformers.pipelines.</span></code><code class="sig-name descname"><span class="pre">pipeline</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_type</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'deepsparse'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">transformers.configuration_utils.PretrainedConfig</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">transformers.tokenization_utils.PreTrainedTokenizer</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_cores</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#deepsparse.transformers.pipelines.Pipeline" title="deepsparse.transformers.pipelines.Pipeline"><span class="pre">deepsparse.transformers.pipelines.Pipeline</span></a><a class="reference internal" href="../_modules/deepsparse/transformers/pipelines.html#pipeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.transformers.pipelines.pipeline" title="Permalink to this definition"></a></dt>
<dd><p>Utility factory method to build a Pipeline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task</strong> – name of the task to define which pipeline to create. Currently
supported task - “question-answering”</p></li>
<li><p><strong>model_name</strong> – canonical name of the hugging face model this model is based on</p></li>
<li><p><strong>model_path</strong> – path to model directory containing <cite>model.onnx</cite>, <cite>config.json</cite>,
and <cite>tokenizer.json</cite> files, ONNX model file, or SparseZoo stub</p></li>
<li><p><strong>engine_type</strong> – inference engine name to use. Supported options are ‘deepsparse’
and ‘onnxruntime’</p></li>
<li><p><strong>config</strong> – huggingface model config, if none provided, default will be used
which will be from the model name or sparsezoo stub if given for model path</p></li>
<li><p><strong>tokenizer</strong> – huggingface tokenizer, if none provided, default will be used</p></li>
<li><p><strong>max_length</strong> – maximum sequence length of model inputs. default is 128</p></li>
<li><p><strong>num_cores</strong> – number of CPU cores to run engine with. Default is the maximum
available</p></li>
<li><p><strong>scheduler</strong> – The scheduler to use for the engine. Can be None, single or multi.</p></li>
<li><p><strong>batch_size</strong> – The batch_size to use for the pipeline. Defaults to 1
Note: <cite>question-answering</cite> pipeline only supports a batch_size of 1.</p></li>
<li><p><strong>kwargs</strong> – additional key word arguments for task specific pipeline constructor</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pipeline object for the given taks and model</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-deepsparse.transformers">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-deepsparse.transformers" title="Permalink to this headline"></a></h2>
<p>Helpers for running transformer based models with DeepSparse and integrating with
huggingface/transformers</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="deepsparse.html" class="btn btn-neutral float-left" title="deepsparse package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="deepsparse.utils.html" class="btn btn-neutral float-right" title="deepsparse.utils package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021 - present / Neuralmagic, Inc. All Rights Reserved. Licensed under the Neural Magic Engine License and Apache License, Version 2.0 as noted..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: v0.9.1
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="../../v0.10.0/api/deepsparse.transformers.html">v0.10.0</a></dd>
      <dd><a href="../../v0.3.0/index.html">v0.3.0</a></dd>
      <dd><a href="../../v0.3.1/index.html">v0.3.1</a></dd>
      <dd><a href="../../v0.4.0/index.html">v0.4.0</a></dd>
      <dd><a href="../../v0.5.0/index.html">v0.5.0</a></dd>
      <dd><a href="../../v0.5.1/index.html">v0.5.1</a></dd>
      <dd><a href="../../v0.6.0/index.html">v0.6.0</a></dd>
      <dd><a href="../../v0.6.1/index.html">v0.6.1</a></dd>
      <dd><a href="../../v0.7.0/index.html">v0.7.0</a></dd>
      <dd><a href="../../v0.8.0/index.html">v0.8.0</a></dd>
      <dd><a href="../../v0.9.0/api/deepsparse.transformers.html">v0.9.0</a></dd>
      <dd><a href="deepsparse.transformers.html">v0.9.1</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="../../main/api/deepsparse.transformers.html">main</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-128364174-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-128364174-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>